(()=>{"use strict";var e={864:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(s(504)),a=i(s(496)),r=i(s(979)),n=i(s(84));class h{static init(e){document.writeln('<iframe frameborder="0" allowfullscreen="true" id="gamewin"></iframe>'),document.writeln('<canvas id="cnv"></canvas>'),document.body.style.margin="0px",h.mouse=new a.default,h.mouse.init(),h.keyboard=new r.default,h.keyboard.init(),h.drawer=new n.default(document.getElementById("slidymenu")),h.drawer.elem.style.left="-150px",h.cnv=document.getElementById("cnv"),h.cnv.id="cnv",h.ctx=h.cnv.getContext("2d",{desynchronized:!1}),h.iframe=document.getElementById("gamewin"),h.iframe.style.width="100%",h.iframe.style.height="100%",h.state=e,h.state.create(),h.update(0)}static openURL(e){h.openIframeWindow(),h.iframe.src=e}static openIframeWindow(){h.keyboard.resetPressed(),h.iframeMode=!0,h.drawer.isOut=!1}static closeIframe(){h.iframeMode=!1}static toggleFullscreen(){let e=document.body;document.fullscreenElement?(h.fullscreen=!1,document.exitFullscreen()):(h.fullscreen=!0,e.requestFullscreen().catch((e=>{h.fullscreen=!1})))}static update(e){var t;h.cnv.style.zIndex="2",h.iframe.style.zIndex="1",h.cnv.style.position="relative",h.iframe.style.position="relative",h.iframeMode?(null===(t=h.iframe.contentWindow)||void 0===t||t.focus(),h.cnv.style.display="none",h.cnv.style.top="0px",h.iframe.style.opacity="1",h.iframe.style.top=String(-h.cnv.offsetHeight+(document.body.offsetHeight-h.iframe.offsetHeight)/2)+"px",h.iframe.style.left=String((document.body.offsetWidth-h.iframe.offsetWidth)/2)+"px"):(h.cnv.style.display="flex",h.cnv.style.top="-"+String(h.iframe.offsetHeight)+"px",h.iframe.style.display="flex",h.iframe.style.opacity="0",h.iframe.style.top="0px"),h.iframe.setAttribute("width",h.cnv.offsetWidth+""),h.iframe.setAttribute("height",h.cnv.offsetHeight+""),h.cnv.style.width="100%",h.cnv.style.height="100%",h.cnv.setAttribute("width",h.cnv.offsetWidth+""),h.cnv.setAttribute("height",h.cnv.offsetHeight+""),h.delta=(e-h.lastTimestep)/1e3,h.drawer.update(h.delta),h.iframeMode||(h.ctx.fillStyle="black",h.ctx.fillRect(0,0,h.cnv.width,h.cnv.height),h.state.draw(),h.ctx.fillStyle="white",h.ctx.font="25px sans-serif",h.ctx.textBaseline="hanging",h.ctx.fillText("This is the new games and stuff, ",0,35),h.ctx.fillText("currently in very early development.",0,65),h.state.update(h.delta),null!=h.iframe.contentDocument&&h.iframe.contentDocument.querySelectorAll("*").forEach((e=>{e.style.cursor="normal"}))),h.lastTimestep=e,h.mouse.resetDeltas(),requestAnimationFrame(h.update)}}h.iframeMode=!1,h.fullscreen=!1,h.lastTimestep=0,h.lastShiftTabTimeStep=0,h.delta=0,t.default=h,h.init(new o.default)},836:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(s(864)),a=i(s(796)),r=s(916),n=s(648);class h extends a.default{constructor(){super()}draw(){super.draw()}create(){this.loadGraphic("/assets/images/arrow.png")}onGraphicLoad(){this.setGraphicSize(0,.1*o.default.cnv.offsetHeight)}update(e){if(super.update(e),this.flipX?(this.x=o.default.cnv.offsetWidth,this.x-=o.default.cnv.offsetWidth/32+this.width):(this.x=0,this.x+=o.default.cnv.offsetWidth/32),this.overlapsPoint(o.default.mouse.x,o.default.mouse.y)){if(this.setGraphicSize(0,.12*o.default.cnv.offsetHeight),o.default.mouse.justPressed(n.MouseButtons.PRIMARY)){let e=prompt("Enter URL to open:\n(<link>,mc1.8,mc1.5,mcBETA1.3_01,mc_classic)");"mc1.8"==e?e="https://gamesandthings.github.io/mc/1.8":"mc1.5"==e?e="https://gamesandthings.github.io/mc/1.5":"mcBETA1.3_01"==e?e="https://gamesandthings.github.io/mc/1.3":"mc_classic"==e?e="https://gamesandthings.github.io/mc/classic":e.startsWith("http://")&&e.startsWith("https://")||(e="http://"+e),o.default.openURL(e)}}else this.setGraphicSize(0,.1*o.default.cnv.offsetHeight);this.screenCenter(r.Axes.Y)}}t.default=h},84:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(s(864)),a=i(s(236));t.default=class{constructor(e){this.buttonsPressed=new Map,this.buttonsMouseOver=new Map,this.buttons=[],this.mouseOver=!0,this.x=-150,this.y=5,this.alpha=1,this.isOut=!1,this.screenmode="window",this.elem=e,this.addMouseListeners(e),e.querySelectorAll("*").forEach((e=>{let t=e;this.addMouseListeners(t)}))}addMouseListeners(e){this.buttonsPressed.set(e.id,!1),this.buttons.push(e),e.addEventListener("click",(t=>{(this.isOut||"peekarrow"==e.id)&&this.buttonsPressed.set(e.id,!0)})),e.addEventListener("mouseover",(t=>{this.buttonsMouseOver.set(e.id,!0)})),e.addEventListener("mouseout",(t=>{this.buttonsMouseOver.set(e.id,!1)}))}create(){}mouseOverCheck(){o.default.iframeMode?(this.mouseOver=!1,this.buttonsMouseOver.forEach(((e,t)=>{e&&(this.mouseOver=!0)})),this.mouseOver?this.alpha=1:this.alpha=.5):(this.alpha=1,this.isOut=!0)}aspectRatioFit(e,t,s,i){var o=Math.min(s/e,i/t);let r=new a.default;return r.x=e*o,r.y=t*o,r}updateScreenMode(){if("16:9"==this.screenmode){let e=this.aspectRatioFit(1280,720,document.body.offsetWidth,document.body.offsetHeight);o.default.iframe.style.width=e.x+"px",o.default.iframe.style.height=e.y+"px"}else if("16:10"==this.screenmode){let e=this.aspectRatioFit(1680,1050,document.body.offsetWidth,document.body.offsetHeight);o.default.iframe.style.width=e.x+"px",o.default.iframe.style.height=e.y+"px"}else if("4:3"==this.screenmode){let e=this.aspectRatioFit(800,600,document.body.offsetWidth,document.body.offsetHeight);o.default.iframe.style.width=e.x+"px",o.default.iframe.style.height=e.y+"px"}else this.screenmode.includes("x")?(o.default.iframe.style.width=this.screenmode.split("x")[0]+"px",o.default.iframe.style.height=this.screenmode.split("x")[1]+"px"):(o.default.iframe.style.width="100%",o.default.iframe.style.height="100%")}update(e){window.devicePixelRatio=4,this.mouseOverCheck(),this.updateScreenMode(),this.buttons.forEach((e=>{if("true"==e.getAttribute("disabled")?e.style.color="rgba(255,255,255,0.25)":e.style.color="white","fullscreen"==e.id){e.setAttribute("title","Makes games and things fullscreen.");let t="fullscreen";o.default.fullscreen&&(t="fullscreen_exit"),e.innerText!=t&&(e.innerText=t)}else"arrow_back"==e.id?o.default.iframeMode?(e.setAttribute("title","Return to games and st."),e.innerText="pause"):(e.setAttribute("title","Return to game."),e.innerText="play_arrow"):"peekarrow"==e.id?(e.setAttribute("disabled",String(!o.default.iframeMode)),o.default.iframeMode||(e.innerText="close"),this.isOut||"close"!=e.innerText||(e.innerText="chevron_right")):"settings"==e.id&&e.setAttribute("disabled",String(!o.default.iframeMode))})),this.isOut?this.x=5:this.x=25-this.elem.offsetWidth,this.buttonsPressed.forEach(((e,t)=>{if(e){console.log(t),this.buttonsPressed.set(t,!1);let e=document.getElementById(t);if("peekarrow"==t)o.default.iframeMode&&(this.isOut=!this.isOut,this.isOut?e.innerText="close":e.innerText="chevron_right");else if("fullscreen"==t)o.default.toggleFullscreen();else if("refresh"==t)o.default.iframe.src+="";else if("arrow_back"==t)o.default.iframeMode?o.default.closeIframe():o.default.openIframeWindow();else if("settings"==t){if(o.default.iframeMode){let e=window.prompt("Enter dimensions for game.\n(4:3,16:9,window,<w>x<h>)");if(null==e)return;this.screenmode=e}}else"forum"==e.id&&window.open("https://discord.com/invite/up7VmmCPhn")}this.elem.style.opacity=String(this.alpha),this.elem.style.left=String(this.x)+"px",this.elem.style.top=String(this.y)+"px"}))}destroy(){}}},484:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e="",t){this.img=new Image,this.loaded=!1,this.img.src=e,this.img.addEventListener("load",(e=>{this.loaded=!0,t(this.img,e)}))}destroy(){this.img.src="",this.img=null}}},979:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.pressedMap=new Map}init(){window.addEventListener("keydown",(e=>(this.onKeyDown(e),!1))),window.addEventListener("keyup",(e=>(this.onKeyUp(e),!1)))}onKeyDown(e,t=!0){this.pressedMap.set(e.key.toLowerCase(),!0),t&&e.preventDefault()}onKeyUp(e,t=!0){this.pressedMap.set(e.key.toLowerCase(),!1),t&&e.preventDefault()}isDown(e){return!!this.pressedMap.has(e.toLowerCase())&&this.pressedMap.get(e.toLowerCase())}resetPressed(){this.pressedMap.clear()}}},504:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(s(864)),a=i(s(836)),r=i(s(796)),n=i(s(248)),h=s(916),d=s(648);class l extends n.default{constructor(){super(...arguments),this.logo=new r.default,this.lArrow=new a.default,this.rArrow=new a.default}create(){this.logo.loadGraphic("/assets/images/logo.png"),this.add(this.lArrow),this.add(this.rArrow),this.rArrow.flipX=!0,this.add(this.logo)}update(e){super.update(e),this.logo.overlapsPoint(o.default.mouse.x,o.default.mouse.y)&&o.default.mouse.isMBDown(d.MouseButtons.PRIMARY)?this.logo.angle+=60*e*5:this.logo.angle=0,this.logo.y=.15*o.default.cnv.offsetHeight,this.logo.screenCenter(h.Axes.X),o.default.cnv.offsetWidth>o.default.cnv.offsetHeight?this.logo.setGraphicSize(.5*o.default.cnv.width):this.logo.setGraphicSize(0,.05*o.default.cnv.height)}}t.default=l},496:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.x=0,this.y=0,this.deltaX=0,this.deltaY=0,this.mouseMap=new Map,this.justPressedMap=new Map}init(){window.addEventListener("mousedown",(e=>{this.onMouseDown(e)})),window.addEventListener("mouseenter",(e=>{this.onMouseEnter(e)})),window.addEventListener("mouseleave",(e=>{this.onMouseLeave(e)})),window.addEventListener("mousemove",(e=>{this.onMouseMove(e)})),window.addEventListener("mouseout",(e=>{this.onMouseOut(e)})),window.addEventListener("mouseover",(e=>{this.onMouseOver(e)})),window.addEventListener("mouseup",(e=>{this.onMouseUp(e)})),window.addEventListener("contextmenu",(e=>(this.onContextMenu(e),!1)))}onMouseDown(e){this.mouseMap.set(e.button,!0),this.getPosFromEvent(e)}onMouseEnter(e){this.getPosFromEvent(e)}onMouseLeave(e){this.getPosFromEvent(e)}onMouseMove(e){this.getPosFromEvent(e)}onMouseOut(e){this.getPosFromEvent(e)}onMouseOver(e){this.getPosFromEvent(e)}onMouseUp(e){this.mouseMap.set(e.button,!1),this.justPressedMap.set(e.button,!0),this.getPosFromEvent(e)}onContextMenu(e){this.getPosFromEvent(e)}isMBDown(e){return!!this.mouseMap.has(e)&&this.mouseMap.get(e)}justPressed(e){return!!this.justPressedMap.has(e)&&this.justPressedMap.get(e)}getPosFromEvent(e){this.x=e.x,this.y=e.y,this.deltaX=e.movementX,this.deltaY=e.movementY}resetDeltas(){this.deltaX=0,this.deltaY=0,this.justPressedMap.clear()}}},796:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(s(864)),a=s(916),r=i(s(236)),n=i(s(668)),h=i(s(484));class d extends n.default{constructor(e=0,t=0){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.angle=0,this.alpha=1,this.scale=new r.default(1,1),this.flipX=!1,this.x=e,this.y=t}draw(){if(null!=this.graphic){let e=this.graphic.img;o.default.ctx.globalAlpha=this.alpha,o.default.ctx.save(),this.flipX&&(o.default.ctx.translate(this.x+this.width/2,this.y+this.width/2),o.default.ctx.scale(-1,1),o.default.ctx.translate(-(this.x+this.width/2),-(this.y+this.width/2))),o.default.ctx.translate(this.x+this.width/2,this.y+this.height/2),this.flipX?o.default.ctx.rotate(-this.angle*Math.PI/180):o.default.ctx.rotate(this.angle*Math.PI/180),o.default.ctx.drawImage(e,-this.width/2,-this.height/2,this.width,this.height),o.default.ctx.restore(),o.default.ctx.globalAlpha=1}}loadGraphic(e){this.graphic=new h.default(e,((e,t)=>{this.graphic.img=e,this.width=e.width,this.height=e.height,this.onGraphicLoad()}))}onGraphicLoad(){}screenCenter(e){e==a.Axes.X?this.x=(o.default.cnv.offsetWidth-this.width)/2:(e==a.Axes.Y||(this.x=(o.default.cnv.offsetWidth-this.width)/2),this.y=(o.default.cnv.offsetHeight-this.height)/2)}setGraphicSize(e=0,t=0){if(!(e<=0&&t<=0)){var s=e/this.graphic.img.width,i=t/this.graphic.img.height;this.scale.set(s,i),e<=0?this.scale.x=i:t<=0&&(this.scale.y=s)}}create(){}update(e){if(null!=this.graphic){let e=this.graphic.img;this.width=e.width*this.scale.x,this.height=e.height*this.scale.y}}destroy(){this.graphic.destroy()}}t.default=d},248:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.members=[]}create(){}draw(){this.members.forEach((e=>{e.draw()}))}update(e){this.members.forEach((t=>{t.update(e)}))}destroy(){}add(e){this.members.push(e),e.create()}}},916:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.Axes=void 0,function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.XY=2]="XY"}(s||(t.Axes=s={}))},648:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.MouseButtons=void 0,function(e){e[e.PRIMARY=0]="PRIMARY",e[e.TERTIARY=1]="TERTIARY",e[e.SECONDARY=2]="SECONDARY",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD"}(s||(t.MouseButtons=s={}))},668:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.x=0,this.y=0,this.width=0,this.height=0}overlaps(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}overlapsPoint(e,t){return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height}}},236:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}set(e,t){this.x=e,this.y=t}}}},t={};!function s(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}(864)})();